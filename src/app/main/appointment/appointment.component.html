<mat-horizontal-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <ng-template matStepLabel>Create Appointment</ng-template>

    <div class="border-top p-5">
      <div class="container">
        <div class="row">
          <div class="col-md-3">
            <div class="list-group font-weight-light">
              <a href="#" class="list-group-item list-group-item-action active">
                Appointment
                <div style="color:white" class="float-right"><i class="fas fa-angle-right"></i></div>
              </a>
            </div>
          </div>
                <div class="col-md-9 mt-sm-4 mt-md-0">
          <form  (ngSubmit)="onSubmit()" #appForm="ngForm">
						<div class="row">
							<div class="col">
								<label for="firstName">First name <span style="color:red"> *</span></label>
								<input type="text" class="form-control" id="firstName" placeholder="First name" 
									required
									[(ngModel)]="model.firstName" name="firstName"
									#firstName="ngModel">
								<div [hidden]="firstName.valid || firstName.pristine"
									class="alert alert-danger">
								 First Name is required
							   </div>
							</div>
							<div class="col">
								<label for="lastName">Last name<span style="color:red"> *</span></label>
								<input type="text" class="form-control" id="lastName" placeholder="Last name" 
									required
									[(ngModel)]="model.lastName" name="lastName"
									#lastName="ngModel">
								<div [hidden]="lastName.valid || lastName.pristine"
									class="alert alert-danger">
								 Last Name is required
							   </div>
							</div>
						</div>
						<div class="form-row">
							<div class="form-group col-md-6">
							  <label for="email">Email<span style="color:red"> *</span></label>
							  <input type="email" class="form-control" id="email" placeholder="Email" 
							   pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required
								[(ngModel)]="model.email" name="email"
								#email="ngModel">
							  <div [hidden]="email.valid || email.pristine"
								class="alert alert-danger">
								Please enter a valid email address
						      </div>
							</div>
							<div class="form-group col-md-6">
							<label for="phone">Phone<span style="color:red"> *</span></label>
							<input type="tel" class="form-control" id="phone" placeholder="1234567890" 
							maxlength="10" pattern="[1-9]{1}[0-9]{9}" required
							[(ngModel)]="model.phone" name="phone"
							#phone="ngModel">
							<div [hidden]="phone.valid || phone.pristine"
								class="alert alert-danger">
								Please enter a valid phone number
						    </div>
							</div>
						</div>
						<div class="form-group">
							<label for="address1">Address<span style="color:red"> *</span></label>
							<input type="text" class="form-control" aria-label="Address" id="address" required
							[(ngModel)]="model.address1" name="address1"
							#address1="ngModel">
							<div [hidden]="address1.valid || address1.pristine"
								class="alert alert-danger">
								Address is required
						    </div>
						</div>
						<div class="form-group">
							<label for="address2">Address 2</label>
							<input type="text" class="form-control" id="address2" placeholder="Apartment, studio, or floor"
							[(ngModel)]="model.address2" name="address2">
						</div>

						<div class="form-row">
							<div class="form-group col-md-6">
							  <label for="city">City<span style="color:red"> *</span></label>
							  <input type="text" class="form-control" id="city" required
								[(ngModel)]="model.city" name="city"
								#city="ngModel">
								<div [hidden]="city.valid || city.pristine"
								class="alert alert-danger">
								City is required
						    </div>
							</div>
							<div class="form-group col-md-4">
							  <label for="state">State<span style="color:red"> *</span></label>
							  <select id="state" class="form-control" required
								[(ngModel)]="model.state" name="state"
								#state="ngModel">
								<option value="AL">Alabama</option>
								<option value="AK">Alaska</option>
								<option value="AZ">Arizona</option>
								<option value="AR">Arkansas</option>
								<option value="CA">California</option>
								<option value="CO">Colorado</option>
								<option value="CT">Connecticut</option>
								<option value="DE">Delaware</option>
								<option value="DC">District Of Columbia</option>
								<option value="FL">Florida</option>
								<option value="GA">Georgia</option>
								<option value="HI">Hawaii</option>
								<option value="ID">Idaho</option>
								<option value="IL">Illinois</option>
								<option value="IN">Indiana</option>
								<option value="IA">Iowa</option>
								<option value="KS">Kansas</option>
								<option value="KY">Kentucky</option>
								<option value="LA">Louisiana</option>
								<option value="ME">Maine</option>
								<option value="MD">Maryland</option>
								<option value="MA">Massachusetts</option>
								<option value="MI">Michigan</option>
								<option value="MN">Minnesota</option>
								<option value="MS">Mississippi</option>
								<option value="MO">Missouri</option>
								<option value="MT">Montana</option>
								<option value="NE">Nebraska</option>
								<option value="NV">Nevada</option>
								<option value="NH">New Hampshire</option>
								<option value="NJ">New Jersey</option>
								<option value="NM">New Mexico</option>
								<option value="NY">New York</option>
								<option value="NC">North Carolina</option>
								<option value="ND">North Dakota</option>
								<option value="OH">Ohio</option>
								<option value="OK">Oklahoma</option>
								<option value="OR">Oregon</option>
								<option value="PA">Pennsylvania</option>
								<option value="RI">Rhode Island</option>
								<option value="SC">South Carolina</option>
								<option value="SD">South Dakota</option>
								<option value="TN">Tennessee</option>
								<option value="TX">Texas</option>
								<option value="UT">Utah</option>
								<option value="VT">Vermont</option>
								<option value="VA">Virginia</option>
								<option value="WA">Washington</option>
								<option value="WV">West Virginia</option>
								<option value="WI">Wisconsin</option>
								<option value="WY">Wyoming</option>
							  </select>
							  <div [hidden]="state.valid || state.pristine"
								class="alert alert-danger">
								State is required
						    </div>
							</div>
							<div class="form-group col-md-2">
							  <label for="zip">Zip<span style="color:red"> *</span></label>
							  <input type="text" class="form-control" id="zip" required
								[(ngModel)]="model.zip" name="zip"
								#zip="ngModel">
							<div [hidden]="zip.valid || zip.pristine"
								class="alert alert-danger">
								Zip is required
						    </div>
							</div>
						</div>
						<div class="form-group">
								<label for="date">Appointment Date and Time<span style="color:red"> *</span></label>
								<div class="form-row">
								<div class="form-group col-md-6">
								<input type="date" class="form-control" id="date" required
								[(ngModel)]="model.date" name="date"
								#date="ngModel">
								<div [hidden]="date.valid || date.pristine"
								class="alert alert-danger">
								Date is required
						    	</div></div>
								<div class="form-group col-md-6">
								<input type="time" class="form-control" aria-label="Time" id="time" required
								[(ngModel)]="model.time" name="time"
								#time="ngModel">
								<div [hidden]="time.valid || time.pristine"
								class="alert alert-danger">
								Time is required
								</div>
							</div></div>
							</div>
						<div class="form-group">
							<label for="room">Renovation Room<span style="color:red"> *</span></label>
							<select class="custom-select" id="room"  required
							[(ngModel)]="model.projectType" name="projectType"
							#projectType="ngModel">
								<option selected>Choose ...</option>
								<option value="Kitchen">Kitchen</option>
								<option value="Dining Room">Dining Room</option>
								<option value="Bath Room">Bath Room</option>
							</select>
							<div [hidden]="projectType.valid || projectType.pristine"
								class="alert alert-danger">
								Room type is required
						    </div>
						</div>
						<div class="form-group">
							<label for="basic-url">Attach File</label>
							<div class="input-group mb-3">
								<div class="custom-file">
									<input type="file" class="custom-file-input" id="inputGroupFile02">
									<label class="custom-file-label" for="inputGroupFile02">Choose file</label>
								</div>
									<div class="form-group">
									<span class="input-group-text" id="">Upload</span>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="qc">Question / Comment</label>
							<textarea class="form-control" id="qc" rows="3" [(ngModel)]="model.comment" name="comment"></textarea>
						</div><br>
              <button  type="submit" matStepperNext class="btn btn-warning" aria-label="Submit">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>


  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <ng-template matStepLabel>Sign up & Sign in</ng-template>
    TEST IS REGISTERED : {{isRegistered}}
    <div class="border-top p-5" *ngIf = "!isRegistered">
      <div class="container">
        <div class="col-md-5 mx-auto">
          <form class="form-signin" (ngSubmit)="signUp()">
            <div class="text-center mb-4">
              <img class="mb-4" src="https://getbootstrap.com/assets/brand/bootstrap-solid.svg" alt="" width="72"
                   height="72">
              <h1 class="h3 mb-3 font-weight-normal">Sign Up</h1>
              <p>Your appointment has been made, Please pick a password for this account.(If existing user, ask
                login) The login account is {{model.email}}</p>
>>>>>>> 65787736eb5e1173d7045e30aeb35eb146ab3364
            </div>

            <div class="form-label-group">
              <input type="password" id="inputPassword" [(ngModel)]="password" name="password" class="form-control"
                     placeholder="Password">
            </div>


            <button class="btn btn-lg btn-primary btn-block" matStepperNext type="submit" aria-label="Sign up" >Sign up</button>
            <button class="btn btn-lg btn-primary btn-block" matStepperNext aria-label="Skip Sign-Up">Skip Sign-Up</button>

          </form>
        </div>
      </div>
    </div>

    <div class="border-top p-5" *ngIf = "isRegistered">
      <ng-template matStepLabel>Finished</ng-template>
      Your appointment has been successfully submitted. One of our team member will be in touch with you shortly
      Click this button to log in and see your appointment using your email {{model.email}}
      <button class="btn btn-lg btn-primary btn-block" type="button" [routerLink]="['/login']" aria-label="Sign in">Sign in</button>
    </div>

  </mat-step>
  <mat-step *ngIf = "!isRegistered">
    <ng-template matStepLabel>Finished</ng-template>
    Your appointment has been successfully submitted. One of our team member will be in touch with you shortly
    Click this button to log in and see your appointment
    <button class="btn btn-lg btn-primary btn-block" type="button" [routerLink]="['/login']" aria-label="Sign in">Sign in</button>

  </mat-step>
</mat-horizontal-stepper>
