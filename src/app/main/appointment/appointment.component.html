<mat-horizontal-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <ng-template matStepLabel>Create Appointment</ng-template>

    <div class="border-top p-5">
      <div class="container">
        <div class="row">
          <div class="col-md-3">
            <div class="list-group font-weight-light">
              <a href="#" class="list-group-item list-group-item-action active">
                Appointment
                <div style="color:white" class="float-right"><i class="fas fa-angle-right"></i></div>
              </a>
            </div>
          </div>
          <div class="col-md-9 mt-sm-4 mt-md-0">
            <form (ngSubmit)="onSubmit()" #appForm="ngForm">
              <div class="row">
                <div class="col">
                  <label for="firstName">First name</label>
                  <input type="text" class="form-control" id="firstName" placeholder="First name" required
                         [(ngModel)]="model.firstName" name="firstName"
                         #firstName="ngModel">
                </div>
                <div class="col">
                  <label for="lastName">Last name</label>
                  <input type="text" class="form-control" id="lastName" placeholder="Last name" required
                         [(ngModel)]="model.lastName" name="lastName"
                         #lastName="ngModel">
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" placeholder="Email" required
                         [(ngModel)]="model.email" name="email"
                         #email="ngModel">
                </div>
                <div class="form-group col-md-6">
                  <label for="phone">Phone</label>
                  <input type="phone" class="form-control" id="phone" placeholder="Phone" required
                         [(ngModel)]="model.phone" name="phone"
                         #phone="ngModel">
                </div>
              </div>
              <div class="form-group">
                <label for="address1">Address</label>
                <input type="text" class="form-control" id="address" placeholder="1234 Main St" required
                       [(ngModel)]="model.address1" name="address1"
                       #address1="ngModel">
              </div>
              <div class="form-group">
                <label for="address2">Address 2</label>
                <input type="text" class="form-control" id="address2" placeholder="Apartment, studio, or floor"
                       [(ngModel)]="model.address2" name="address2">
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="city">City</label>
                  <input type="text" class="form-control" id="city" required
                         [(ngModel)]="model.city" name="city"
                         #city="ngModel">
                </div>
                <div class="form-group col-md-4">
                  <label for="state">State</label>
                  <select id="state" class="form-control" required
                          [(ngModel)]="model.state" name="state"
                          #state="ngModel">
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>
                <div class="form-group col-md-2">
                  <label for="zip">Zip</label>
                  <input type="text" class="form-control" id="zip" required
                         [(ngModel)]="model.zip" name="zip"
                         #zip="ngModel">
                </div>
              </div>
              <div class="form-group">
                <label for="date">Appointment Date and Time</label>
                <div class="form-row">
                  <div class="form-group col-md-5">
                    <input type="date" class="form-control" id="date" required
                           [(ngModel)]="model.date" name="date"
                           #zip="ngModel"></div>
                  <div class="form-group col-md-5">
                    <input type="time" class="form-control" id="time" required
                           [(ngModel)]="model.time" name="time"
                           #time="ngModel"></div>
                </div>

              </div>
              <div class="form-group">
                <label for="room">Renovation Room</label>
                <select class="custom-select" id="room" required
                        [(ngModel)]="model.projectType" name="projectType"
                        #projectType="ngModel">
                  <option selected>Choose ...</option>
                  <option value="Kitchen">Kitchen</option>
                  <option value="Dining Room">Dining Room</option>
                  <option value="Bath Room">Bath Room</option>
                </select>
              </div>
              <div class="form-group">
                <label for="basic-url">Attach File</label>
                <div class="input-group mb-3">
                  <div class="custom-file">
                    <input type="file" class="custom-file-input" id="inputGroupFile02">
                    <label class="custom-file-label" for="inputGroupFile02">Choose file</label>
                  </div>
                  <div class="form-group">
                    <span class="input-group-text" id="">Upload</span>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="qc">Question / Comment</label>
                <textarea class="form-control" id="qc" rows="3" [(ngModel)]="model.comment" name="comment"></textarea>
              </div>
              <br>
              <button  type="submit" matStepperNext class="btn btn-warning">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>


  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <ng-template matStepLabel>Sign up & Sign in</ng-template>
    TEST IS REGISTERED : {{isRegistered}}
    <div class="border-top p-5" *ngIf = "!isRegistered">
      <div class="container">
        <div class="col-md-5 mx-auto">
          <form class="form-signin" (ngSubmit)="signUp()">
            <div class="text-center mb-4">
              <img class="mb-4" src="https://getbootstrap.com/assets/brand/bootstrap-solid.svg" alt="" width="72"
                   height="72">
              <h1 class="h3 mb-3 font-weight-normal">Sign Up</h1>
              <p>Your appointment has been made, Please pick a password for this account.(If existing user, ask
                login) The login account is {{model.email}}</p>
            </div>

            <div class="form-label-group">
              <input type="password" id="inputPassword" [(ngModel)]="password" name="password" class="form-control"
                     placeholder="Password">
            </div>


            <button class="btn btn-lg btn-primary btn-block" matStepperNext type="submit">Sign up</button>
            <button class="btn btn-lg btn-primary btn-block" matStepperNext>Skip Sign-Up</button>

          </form>
        </div>
      </div>
    </div>

    <div class="border-top p-5" *ngIf = "isRegistered">
      <ng-template matStepLabel>Finished</ng-template>
      Your appointment has been successfully submitted. One of our team member will be in touch with you shortly
      Click this button to log in and see your appointment using your email {{model.email}}
      <button class="btn btn-lg btn-primary btn-block" type="button" [routerLink]="['/login']">Sign in</button>
    </div>

  </mat-step>
  <mat-step *ngIf = "!isRegistered">
    <ng-template matStepLabel>Finished</ng-template>
    Your appointment has been successfully submitted. One of our team member will be in touch with you shortly
    Click this button to log in and see your appointment
    <button class="btn btn-lg btn-primary btn-block" type="button" [routerLink]="['/login']">Sign in</button>


    <!--<div>-->
    <!--<button mat-button matStepperPrevious>Back</button>-->
    <!--<button mat-button (click)="stepper.reset()">Reset</button>-->
    <!--</div>-->
  </mat-step>
</mat-horizontal-stepper>
